<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>F & S Chatbot</title>
<style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; }
    /* Chat-Bubble */
    #chat-bubble {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background-color: #ff4da6;
        color: white;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        font-size: 18px;
        cursor: pointer;
        box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        z-index: 9999;
    }
    /* Chatfenster */
    #chatbox {
        display: none;
        position: fixed;
        bottom: 90px;
        right: 20px;
        width: 300px;
        background: white;
        border-radius: 10px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        z-index: 9999;
        overflow: hidden;
        flex-direction: column;
    }
    #chat-header {
        background-color: #ff4da6;
        color: white;
        padding: 10px;
        font-weight: bold;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    #messages {
        height: 250px;
        overflow-y: auto;
        padding: 10px;
        font-size: 14px;
    }
    .message { margin: 5px 0; }
    .user { font-weight: bold; color: blue; }
    .bot { font-weight: bold; color: #ff4da6; }
    #userInput {
        width: 75%;
        padding: 8px;
        border: none;
        border-top: 1px solid #ccc;
        outline: none;
    }
    #sendBtn {
        width: 25%;
        background: #ff4da6;
        border: none;
        color: white;
        cursor: pointer;
    }
</style>
</head>
<body>
<!-- Chat-Bubble -->
<div id="chat-bubble">F & S</div>
<!-- Chatfenster -->
<div id="chatbox">
    <div id="chat-header">
        F & S Chatbot
        <span style="cursor:pointer;" onclick="toggleChat()">:starkes_malzeichen_x:</span>
    </div>
    <div id="messages"></div>
    <div style="display:flex;">
        <input id="userInput" type="text" placeholder="Schreibe etwas..." onkeydown="if(event.key==='Enter') sendMessage()">
        <button id="sendBtn" onclick="sendMessage()">Senden</button>
    </div>
</div>
<script>
// FAQ-Datenbank (mind. 5 Fragen)
const faqs = [
    { frage: "öffnungszeiten", antwort: "Wir haben Montag bis Freitag von 9:00 bis 17:00 Uhr geöffnet." },
    { frage: "standort", antwort: "Unsere Schule befindet sich in der Musterstraße 123, 12345 Musterstadt." },
    { frage: "anmeldung", antwort: "Du kannst dich über unser Online-Formular auf der Webseite anmelden." },
    { frage: "kosten", antwort: "Die genauen Kosten findest du auf unserer Preisliste auf der Webseite." },
    { frage: "kontakt", antwort: "Du erreichst uns per E-Mail unter info@schule.de oder telefonisch unter 01234 567890." }
];
// Fester Gesprächsablauf
const conversationFlow = [
    "Hallo! Schön, dass du hier bist. Wie geht es dir heute?",
    "Das freut mich zu hören! Möchtest du mehr über unsere Schule erfahren?",
    "Super! Du kannst mich zu unseren Öffnungszeiten, dem Standort, der Anmeldung, den Kosten oder dem Kontakt fragen."
];
let conversationStep = 0;
// Toggle Chatfenster
document.getElementById("chat-bubble").onclick = toggleChat;
function toggleChat() {
    const chatbox = document.getElementById("chatbox");
    chatbox.style.display = (chatbox.style.display === "flex") ? "none" : "flex";
    if (chatbox.style.display === "flex" && conversationStep === 0) {
        appendMessage(conversationFlow[conversationStep], 'bot');
        conversationStep++;
    }
}
// Nachricht senden
function sendMessage() {
    const input = document.getElementById('userInput');
    const userText = input.value.trim();
    if (userText === "") return;
    appendMessage(userText, 'user');
    input.value = "";
    if (conversationStep < conversationFlow.length) {
        setTimeout(() => {
            appendMessage(conversationFlow[conversationStep], 'bot');
            conversationStep++;
        }, 600);
    } else {
        const antwort = findeAntwort(userText);
        setTimeout(() => appendMessage(antwort, 'bot'), 600);
    }
}
// Nachricht im Chat anzeigen
function appendMessage(text, sender) {
    const messagesDiv = document.getElementById('messages');
    const msgDiv = document.createElement('div');
    msgDiv.classList.add('message', sender);
    msgDiv.innerHTML = `<span class="${sender}">${sender === 'user' ? 'Du' : 'F & S'}:</span> ${text}`;
    messagesDiv.appendChild(msgDiv);
    messagesDiv.scrollTop = messagesDiv.scrollHeight;
}
// FAQ-Suche
function findeAntwort(frage) {
    const frageLower = frage.toLowerCase();
    const eintrag = faqs.find(f => frageLower.includes(f.frage.toLowerCase()));
    return eintrag ? eintrag.antwort : "Tut mir leid, dazu habe ich keine passende Antwort gefunden.";
}
</script>
</body>
</html>
